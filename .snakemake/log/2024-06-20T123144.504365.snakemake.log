Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cluster nodes: 4999
Job stats:
job                  count
-----------------  -------
ml_prep                  3
targets                  1
train_ml_set_seed        2
total                    6

Resources before job selection: {'_cores': 9223372036854775807, '_nodes': 4999}
Ready jobs (3)
Select jobs to execute...
Selected jobs (3)
Resources after job selection: {'_cores': 9223372036854775804, '_nodes': 4996}

[Thu Jun 20 12:31:50 2024]
rule ml_prep:
    input: Data/gt_subset_30.tokens.csv.gz, Code/MLprep.R, Data/gt_subset_30.csv
    output: Data/gt_subset_30.new_seq_data.preprocessed.RDS
    jobid: 7
    reason: Updated input files: Code/MLprep.R
    wildcards: datasets=gt_subset_30, ml_variables=new_seq_data
    resources: mem_mb=10000, mem_mib=9537, disk_mb=1000, disk_mib=954, tmpdir=<TBD>, cpus=1, time=24:00:00, job_name=data


        Code/MLprep.R Data/gt_subset_30.csv Data/gt_subset_30.tokens.csv.gz new_seq_data 1 Data/gt_subset_30.new_seq_data.preprocessed.RDS
        
Jobscript:
#!/bin/sh
# properties = {"type": "single", "rule": "ml_prep", "local": false, "input": ["Data/gt_subset_30.tokens.csv.gz", "Code/MLprep.R", "Data/gt_subset_30.csv"], "output": ["Data/gt_subset_30.new_seq_data.preprocessed.RDS"], "wildcards": {"datasets": "gt_subset_30", "ml_variables": "new_seq_data"}, "params": {}, "log": [], "threads": 1, "resources": {"mem_mb": 10000, "mem_mib": 9537, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>", "cpus": 1, "time": "24:00:00", "job_name": "data"}, "jobid": 7, "cluster": {}}
cd /nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility && /home/jocolova/miniforge3/envs/data_acc/bin/python3.12 -m snakemake --snakefile '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/Snakefile' --target-jobs 'ml_prep:datasets=gt_subset_30,ml_variables=new_seq_data' --allowed-rules 'ml_prep' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=10000' 'mem_mib=9537' 'disk_mb=1000' 'disk_mib=954' 'cpus=1' --wait-for-files '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l' 'Data/gt_subset_30.tokens.csv.gz' 'Code/MLprep.R' 'Data/gt_subset_30.csv' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'params' 'input' 'code' 'software-env' 'mtime' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/home/jocolova/miniforge3' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 120 --scheduler 'greedy' --scheduler-solver-path '/home/jocolova/miniforge3/envs/data_acc/bin' --default-resources 'mem_mb=10000' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' 'cpus=1' 'time="24:00:00"' 'job_name="data"' --mode 2 && touch '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l/7.jobfinished' || (touch '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l/7.jobfailed'; exit 1)

Submitted job 7 with external jobid 'Submitted batch job 9823275'.

[Thu Jun 20 12:31:58 2024]
rule ml_prep:
    input: Data/groundtruth.tokens.csv.gz, Code/MLprep.R, Data/groundtruth.csv
    output: Data/groundtruth.availability.preprocessed.RDS
    jobid: 5
    reason: Missing output files: Data/groundtruth.availability.preprocessed.RDS
    wildcards: datasets=groundtruth, ml_variables=availability
    resources: mem_mb=10000, mem_mib=9537, disk_mb=1000, disk_mib=954, tmpdir=<TBD>, cpus=1, time=24:00:00, job_name=data


        Code/MLprep.R Data/groundtruth.csv Data/groundtruth.tokens.csv.gz availability 1 Data/groundtruth.availability.preprocessed.RDS
        
Jobscript:
#!/bin/sh
# properties = {"type": "single", "rule": "ml_prep", "local": false, "input": ["Data/groundtruth.tokens.csv.gz", "Code/MLprep.R", "Data/groundtruth.csv"], "output": ["Data/groundtruth.availability.preprocessed.RDS"], "wildcards": {"datasets": "groundtruth", "ml_variables": "availability"}, "params": {}, "log": [], "threads": 1, "resources": {"mem_mb": 10000, "mem_mib": 9537, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>", "cpus": 1, "time": "24:00:00", "job_name": "data"}, "jobid": 5, "cluster": {}}
cd /nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility && /home/jocolova/miniforge3/envs/data_acc/bin/python3.12 -m snakemake --snakefile '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/Snakefile' --target-jobs 'ml_prep:datasets=groundtruth,ml_variables=availability' --allowed-rules 'ml_prep' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=10000' 'mem_mib=9537' 'disk_mb=1000' 'disk_mib=954' 'cpus=1' --wait-for-files '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l' 'Data/groundtruth.tokens.csv.gz' 'Code/MLprep.R' 'Data/groundtruth.csv' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'params' 'input' 'code' 'software-env' 'mtime' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/home/jocolova/miniforge3' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 120 --scheduler 'greedy' --scheduler-solver-path '/home/jocolova/miniforge3/envs/data_acc/bin' --default-resources 'mem_mb=10000' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' 'cpus=1' 'time="24:00:00"' 'job_name="data"' --mode 2 && touch '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l/5.jobfinished' || (touch '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l/5.jobfailed'; exit 1)

Submitted job 5 with external jobid 'Submitted batch job 9823276'.

[Thu Jun 20 12:31:58 2024]
rule ml_prep:
    input: Data/groundtruth.tokens.csv.gz, Code/MLprep.R, Data/groundtruth.csv
    output: Data/groundtruth.new_seq_data.preprocessed.RDS
    jobid: 1
    reason: Updated input files: Code/MLprep.R
    wildcards: datasets=groundtruth, ml_variables=new_seq_data
    resources: mem_mb=10000, mem_mib=9537, disk_mb=1000, disk_mib=954, tmpdir=<TBD>, cpus=1, time=24:00:00, job_name=data


        Code/MLprep.R Data/groundtruth.csv Data/groundtruth.tokens.csv.gz new_seq_data 1 Data/groundtruth.new_seq_data.preprocessed.RDS
        
Jobscript:
#!/bin/sh
# properties = {"type": "single", "rule": "ml_prep", "local": false, "input": ["Data/groundtruth.tokens.csv.gz", "Code/MLprep.R", "Data/groundtruth.csv"], "output": ["Data/groundtruth.new_seq_data.preprocessed.RDS"], "wildcards": {"datasets": "groundtruth", "ml_variables": "new_seq_data"}, "params": {}, "log": [], "threads": 1, "resources": {"mem_mb": 10000, "mem_mib": 9537, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>", "cpus": 1, "time": "24:00:00", "job_name": "data"}, "jobid": 1, "cluster": {}}
cd /nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility && /home/jocolova/miniforge3/envs/data_acc/bin/python3.12 -m snakemake --snakefile '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/Snakefile' --target-jobs 'ml_prep:datasets=groundtruth,ml_variables=new_seq_data' --allowed-rules 'ml_prep' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=10000' 'mem_mib=9537' 'disk_mb=1000' 'disk_mib=954' 'cpus=1' --wait-for-files '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l' 'Data/groundtruth.tokens.csv.gz' 'Code/MLprep.R' 'Data/groundtruth.csv' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'params' 'input' 'code' 'software-env' 'mtime' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/home/jocolova/miniforge3' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 120 --scheduler 'greedy' --scheduler-solver-path '/home/jocolova/miniforge3/envs/data_acc/bin' --default-resources 'mem_mb=10000' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' 'cpus=1' 'time="24:00:00"' 'job_name="data"' --mode 2 && touch '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l/1.jobfinished' || (touch '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l/1.jobfailed'; exit 1)

Submitted job 1 with external jobid 'Submitted batch job 9823277'.
[Thu Jun 20 12:33:30 2024]
Finished job 7.
1 of 6 steps (17%) done
Resources before job selection: {'_cores': 9223372036854775805, '_nodes': 4997}
Ready jobs (1)
Select jobs to execute...
Selected jobs (1)
Resources after job selection: {'_cores': 9223372036854775804, '_nodes': 4996}

[Thu Jun 20 12:33:30 2024]
rule train_ml_set_seed:
    input: Data/gt_subset_30.new_seq_data.preprocessed.RDS, Code/trainML.R
    output: Data/ml_results/gt_subset_30/runs/glmnet.2000.new_seq_data.model.RDS, Data/ml_results/gt_subset_30/runs/glmnet.2000.new_seq_data.performance.csv
    jobid: 6
    reason: Input files updated by another job: Data/gt_subset_30.new_seq_data.preprocessed.RDS
    wildcards: datasets=gt_subset_30, method=glmnet, seed=2000, ml_variables=new_seq_data
    resources: mem_mb=10000, mem_mib=9537, disk_mb=1000, disk_mib=954, tmpdir=<TBD>, cpus=1, time=24:00:00, job_name=data


        Code/trainML.R Data/gt_subset_30.new_seq_data.preprocessed.RDS 2000 glmnet new_seq_data Data/ml_results/gt_subset_30/runs/glmnet.2000.new_seq_data.model.RDS Data/ml_results/gt_subset_30/runs/glmnet.2000.new_seq_data.performance.csv
        
Jobscript:
#!/bin/sh
# properties = {"type": "single", "rule": "train_ml_set_seed", "local": false, "input": ["Data/gt_subset_30.new_seq_data.preprocessed.RDS", "Code/trainML.R"], "output": ["Data/ml_results/gt_subset_30/runs/glmnet.2000.new_seq_data.model.RDS", "Data/ml_results/gt_subset_30/runs/glmnet.2000.new_seq_data.performance.csv"], "wildcards": {"datasets": "gt_subset_30", "method": "glmnet", "seed": "2000", "ml_variables": "new_seq_data"}, "params": {"seed": "2000"}, "log": [], "threads": 1, "resources": {"mem_mb": 10000, "mem_mib": 9537, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>", "cpus": 1, "time": "24:00:00", "job_name": "data"}, "jobid": 6, "cluster": {}}
cd /nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility && /home/jocolova/miniforge3/envs/data_acc/bin/python3.12 -m snakemake --snakefile '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/Snakefile' --target-jobs 'train_ml_set_seed:datasets=gt_subset_30,method=glmnet,seed=2000,ml_variables=new_seq_data' --allowed-rules 'train_ml_set_seed' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=10000' 'mem_mib=9537' 'disk_mb=1000' 'disk_mib=954' 'cpus=1' --wait-for-files '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l' 'Data/gt_subset_30.new_seq_data.preprocessed.RDS' 'Code/trainML.R' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'params' 'input' 'code' 'software-env' 'mtime' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/home/jocolova/miniforge3' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 120 --scheduler 'greedy' --scheduler-solver-path '/home/jocolova/miniforge3/envs/data_acc/bin' --default-resources 'mem_mb=10000' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' 'cpus=1' 'time="24:00:00"' 'job_name="data"' --mode 2 && touch '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l/6.jobfinished' || (touch '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l/6.jobfailed'; exit 1)

Submitted job 6 with external jobid 'Submitted batch job 9823281'.
[Thu Jun 20 12:36:10 2024]
Finished job 5.
2 of 6 steps (33%) done
[Thu Jun 20 12:36:10 2024]
Finished job 1.
3 of 6 steps (50%) done
Resources before job selection: {'_cores': 9223372036854775806, '_nodes': 4998}
Ready jobs (1)
Select jobs to execute...
Selected jobs (1)
Resources after job selection: {'_cores': 9223372036854775805, '_nodes': 4997}

[Thu Jun 20 12:36:10 2024]
rule train_ml_set_seed:
    input: Data/groundtruth.new_seq_data.preprocessed.RDS, Code/trainML.R
    output: Data/ml_results/groundtruth/runs/glmnet.2000.new_seq_data.model.RDS, Data/ml_results/groundtruth/runs/glmnet.2000.new_seq_data.performance.csv
    jobid: 11
    reason: Input files updated by another job: Data/groundtruth.new_seq_data.preprocessed.RDS
    wildcards: datasets=groundtruth, method=glmnet, seed=2000, ml_variables=new_seq_data
    resources: mem_mb=10000, mem_mib=9537, disk_mb=1000, disk_mib=954, tmpdir=<TBD>, cpus=1, time=24:00:00, job_name=data


        Code/trainML.R Data/groundtruth.new_seq_data.preprocessed.RDS 2000 glmnet new_seq_data Data/ml_results/groundtruth/runs/glmnet.2000.new_seq_data.model.RDS Data/ml_results/groundtruth/runs/glmnet.2000.new_seq_data.performance.csv
        
Jobscript:
#!/bin/sh
# properties = {"type": "single", "rule": "train_ml_set_seed", "local": false, "input": ["Data/groundtruth.new_seq_data.preprocessed.RDS", "Code/trainML.R"], "output": ["Data/ml_results/groundtruth/runs/glmnet.2000.new_seq_data.model.RDS", "Data/ml_results/groundtruth/runs/glmnet.2000.new_seq_data.performance.csv"], "wildcards": {"datasets": "groundtruth", "method": "glmnet", "seed": "2000", "ml_variables": "new_seq_data"}, "params": {"seed": "2000"}, "log": [], "threads": 1, "resources": {"mem_mb": 10000, "mem_mib": 9537, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>", "cpus": 1, "time": "24:00:00", "job_name": "data"}, "jobid": 11, "cluster": {}}
cd /nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility && /home/jocolova/miniforge3/envs/data_acc/bin/python3.12 -m snakemake --snakefile '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/Snakefile' --target-jobs 'train_ml_set_seed:datasets=groundtruth,method=glmnet,seed=2000,ml_variables=new_seq_data' --allowed-rules 'train_ml_set_seed' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=10000' 'mem_mib=9537' 'disk_mb=1000' 'disk_mib=954' 'cpus=1' --wait-for-files '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l' 'Data/groundtruth.new_seq_data.preprocessed.RDS' 'Code/trainML.R' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'params' 'input' 'code' 'software-env' 'mtime' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/home/jocolova/miniforge3' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 120 --scheduler 'greedy' --scheduler-solver-path '/home/jocolova/miniforge3/envs/data_acc/bin' --default-resources 'mem_mb=10000' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' 'cpus=1' 'time="24:00:00"' 'job_name="data"' --mode 2 && touch '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l/11.jobfinished' || (touch '/nfs/turbo/schloss-lab/jocolova/Colovas_Data_Accessibility/.snakemake/tmp.h4_m7j3l/11.jobfailed'; exit 1)

Submitted job 11 with external jobid 'Submitted batch job 9823325'.
[Thu Jun 20 12:36:51 2024]
Finished job 6.
4 of 6 steps (67%) done
[Thu Jun 20 12:41:21 2024]
Finished job 11.
5 of 6 steps (83%) done
Resources before job selection: {'_cores': 9223372036854775807, '_nodes': 4999}
Ready jobs (1)
Select jobs to execute...
Selected jobs (1)
Resources after job selection: {'_cores': 9223372036854775806, '_nodes': 4998}

[Thu Jun 20 12:41:21 2024]
localrule targets:
    input: Data/groundtruth.new_seq_data.preprocessed.RDS, Data/groundtruth.availability.preprocessed.RDS, Data/ml_results/gt_subset_30/runs/glmnet.2000.new_seq_data.model.RDS, Data/ml_results/groundtruth/runs/glmnet.2000.new_seq_data.model.RDS
    jobid: 0
    reason: Input files updated by another job: Data/groundtruth.new_seq_data.preprocessed.RDS, Data/groundtruth.availability.preprocessed.RDS, Data/ml_results/gt_subset_30/runs/glmnet.2000.new_seq_data.model.RDS, Data/ml_results/groundtruth/runs/glmnet.2000.new_seq_data.model.RDS
    resources: mem_mb=10000, mem_mib=9537, disk_mb=1000, disk_mib=954, tmpdir=/tmp, cpus=1, time=24:00:00, job_name=data

[Thu Jun 20 12:41:21 2024]
Finished job 0.
6 of 6 steps (100%) done
Complete log: .snakemake/log/2024-06-20T123144.504365.snakemake.log
unlocking
removing lock
removing lock
removed all locks
